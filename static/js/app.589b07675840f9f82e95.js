webpackJsonp([1,2],{100:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e(9),i=e.n(n),r=e(24),o=e(25),a=e.n(o);new i.a({el:"#app",store:r.a,template:"<App />",components:{App:a.a}})},24:function(t,s,e){"use strict";var n=e(1),i=e.n(n),r=e(9),o=e.n(r),a=e(2),u=e.n(a),c=e(26),l=e.n(c),m=e(44);e.d(s,"a",function(){return h}),o.a.use(u.a);var f={fetching:!1,error:null,items:null,limit:10},d={fetching:!1,error:null,items:null},h=new u.a.Store({strict:!1,state:{artists:f,artist:null,albums:d},getters:{artists:function(t){return t.artists},artist:function(t){return t.artist},albums:function(t){return t.albums}},mutations:{saveArtists:function(t,s){t.artists=i()({},t.artists,s)},clearArtists:function(t){t.artists=f},saveAlbums:function(t,s){t.albums=i()({},t.albums,s)},clearAlbums:function(t){t.albums=d},artistsError:function(t,s){t.artists.error=s},albumsError:function(t,s){t.albums.error=s},artistsFetching:function(t){t.artists.fetching=!0},artistsFetched:function(t){t.artists.fetching=!1},albumsFetching:function(t){t.albums.fetching=!0},albumsFetched:function(t){t.albums.fetching=!1},chooseArtist:function(t,s){t.artist=s},clearArtist:function(t){t.artist=null}},actions:{getArtists:function(t,s){if(t.state.artist&&t.commit("clearArtist"),s){var n=t.state.artists,i=n.limit,r=n.error;r&&t.commit("artistsError",null),t.commit("artistsFetching"),l.a.get("https://api.spotify.com/v1/search?q="+s+"&type=artist&limit="+i).then(function(s){t.state.albums.items&&t.commit("clearAlbums"),t.commit("artistsFetched"),t.commit("saveArtists",s.data.artists)}).catch(function(s){t.commit("artistsFetched"),t.commit("artistsError",e.i(m.a)(s))})}else t.commit("clearArtists")},showPrevious:function(t){var s=t.state.artists.previous;t.dispatch("sendRequest",s)},showNext:function(t){var s=t.state.artists.next;t.dispatch("sendRequest",s)},chooseArtist:function(t,s){t.dispatch("getAlbums",s),t.commit("chooseArtist",s)},getAlbums:function(t,s){t.commit("albumsFetching"),l.a.get("https://api.spotify.com/v1/artists/"+s.id+"/albums?album_type=album&limit=50").then(function(s){t.state.artists.items&&t.commit("clearArtists"),t.commit("albumsFetched"),t.commit("saveAlbums",s.data)}).catch(function(s){t.commit("albumsFetched"),t.commit("albumsError",e.i(m.a)(s))})}}})},25:function(t,s,e){e(80);var n=e(3)(e(45),e(98),null,null);t.exports=n.exports},44:function(t,s,e){"use strict";e.d(s,"a",function(){return n});var n=function(t){return t.response?t.response.status+" "+t.response.statusText+": "+t.response.data.error.message:"Error: "+t.message}},45:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e(1),i=e.n(n),r=e(2),o=(e.n(r),e(94)),a=e.n(o),u=e(93),c=e.n(u),l=e(92),m=e.n(l);s.default={name:"app",components:{Search:a.a,ArtistsList:c.a,AlbumsCarousel:m.a},computed:i()({},e.i(r.mapGetters)(["artists","albums"]),{searchWrapperClass:function(){return this.artists.items||this.albums.items?"top":"center"}})}},46:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e(1),i=e.n(n),r=e(91),o=(e.n(r),e(2));e.n(o);s.default={name:"albums-carousel",components:{Carousel3d:r.Carousel3d,Slide:r.Slide},computed:i()({},e.i(o.mapGetters)(["albums"]),{showNothingFoundMessage:function(){return this.albums.items&&!this.albums.items.length},showComponent:function(){var t=this.albums,s=t.error,e=t.items;return s||e}})}},47:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e(1),i=e.n(n),r=e(2);e.n(r);s.default={name:"artists-list",data:function(){return{focusedItem:null}},computed:i()({},e.i(r.mapGetters)(["artists"]),{firstItemFocused:function(){return 0===this.focusedItem},lastItemFocused:function(){return this.focusedItem===this.artists.items.length-1},showComponent:function(){var t=this.artists,s=t.error,e=t.items;return s||e},showError:function(){return this.artists.error},showNothingFoundMessage:function(){return this.artists.items&&!this.artists.items.length}}),methods:i()({},e.i(r.mapActions)(["chooseArtist","showPrevious","showNext"]),{chooseItem:function(t){document.querySelector("input").focus(),this.chooseArtist(t)},focusOnPrevItem:function(){this.firstItemFocused?document.querySelector("input").focus():this.focusedItem--},focusOnNextItem:function(){this.lastItemFocused||this.focusedItem++}}),watch:{focusedItem:function(t){document.querySelectorAll(".artists-list li")[t].focus()}}}},48:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e(1),i=e.n(n),r=e(85),o=e.n(r),a=e(2);e.n(a);s.default={name:"search",data:function(){return{query:""}},computed:i()({},e.i(a.mapGetters)(["artist","artists"])),methods:i()({},e.i(a.mapActions)(["getArtists"]),{focusOnList:function(){this.artists.items&&this.artists.items.length&&document.querySelectorAll(".artists-list li")[0].focus()},search:o()(function(){this.getArtists(this.query)},300)}),watch:{artist:function(t){t&&(this.query=t.name)}}}},77:function(t,s){},78:function(t,s){},79:function(t,s){},80:function(t,s){},92:function(t,s,e){e(79);var n=e(3)(e(46),e(97),"data-v-42d4178b",null);t.exports=n.exports},93:function(t,s,e){e(78);var n=e(3)(e(47),e(96),"data-v-11dc4333",null);t.exports=n.exports},94:function(t,s,e){e(77);var n=e(3)(e(48),e(95),"data-v-079bc8cf",null);t.exports=n.exports},95:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{type:"text",placeholder:"Artist's name",autofocus:"",tabindex:"1"},domProps:{value:t._s(t.query)},on:{input:[function(s){s.target.composing||(t.query=s.target.value)},t.search],keydown:function(s){t._k(s.keyCode,"down",40)||t.focusOnList(s)}}})},staticRenderFns:[]}},96:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.showComponent?e("div",{staticClass:"artists-list",on:{keydown:[function(s){t._k(s.keyCode,"up",38)||(s.preventDefault(),t.focusOnPrevItem(s))},function(s){t._k(s.keyCode,"down",40)||(s.preventDefault(),t.focusOnNextItem(s))}]}},[t.showError?e("div",[t._v(t._s(t.showError))]):t.showNothingFoundMessage?e("div",{staticClass:"nothing-found-message"},[t._v("Nothing found")]):e("div",{staticClass:"list-wrapper"},[e("ul",t._l(t.artists.items,function(s,n){return e("li",{attrs:{tabindex:"1"},on:{click:function(e){t.chooseArtist(s)},keyup:function(e){t._k(e.keyCode,"enter",13)||t.chooseItem(s)},focus:function(s){t.focusedItem=n}}},[t._v("\n        "+t._s(s.name)+"\n      ")])})),t._v(" "),e("div",{staticClass:"pagination"},[t.artists.previous?e("button",{staticClass:"show-previous-button",on:{click:t.showPrevious}},[e("i",{staticClass:"fa fa-arrow-left"})]):t._e(),t._v(" "),t.artists.next?e("button",{staticClass:"show-next-button",on:{click:t.showNext}},[e("i",{staticClass:"fa fa-arrow-right"})]):t._e()])])]):t._e()},staticRenderFns:[]}},97:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.showNothingFoundMessage?e("div",{staticClass:"nothing-found-message"},[t._v("No albums found")]):t.showComponent?e("carousel-3d",{attrs:{width:300,height:300}},t._l(t.albums.items,function(t,s){return e("slide",{attrs:{index:s}},[e("img",{attrs:{src:t.images[0].url}})])})):t._e()},staticRenderFns:[]}},98:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"search-wrapper",class:t.searchWrapperClass},[e("search"),t._v(" "),e("artists-list")],1),t._v(" "),e("albums-carousel")],1)},staticRenderFns:[]}}},[100]);
//# sourceMappingURL=app.589b07675840f9f82e95.js.map